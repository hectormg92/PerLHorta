<!DOCTYPE html>
<html>

<head>

<meta charset="UTF-8"> 

<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

<title>Visor Leaflet</title>


<!--Include LEAFLET STUFF -->

<link rel="stylesheet" href="https://npmcdn.com/leaflet@1.0.0-rc.2/dist/leaflet.css" />


<script src="https://npmcdn.com/leaflet@1.0.0-rc.2/dist/leaflet.js"></script>



<!--Include PROJ4, lib de transformación de coord -->

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.14/proj4-src.js"></script>



<!--Include JQUERY -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>


<style type="text/css">

html, body { width: 100%; height: 100%; margin: 0; font-family: sans-serif; }

/*.head{height: 20%;}*/

#smapid { width: 100%; height: 100%; }

.controls { position: absolute; right: 20px; top: 5px; }



.leaflet-control-scale-line{

  background-color: #0b3 !important;

  border-color: black;

  color:black;

  opacity:0.8;

  font-weight: bold;

}

</style>



</head>

<body>

<div class="head">

</div>


<div id="smapid" style="height: 80%; "></div>


<script language="javascript" type="text/javascript">

// COORD VLC

var lat = 39.4747;

var lon = -0.44;


//MAP

var smap;

smap = L.map('smapid');


// OSM

var url    = "http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";

var attrib =' Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';

var osmLayer = new L.TileLayer(url, {maxZoom: 18, attribution: attrib});

smap.addLayer(osmLayer);


// VIEW AND ZOOM

smap.setView([lat, lon], 12);


//SCALE CONTROL

L.control.scale({ imperial: false, maxWidth:200 }).addTo(smap);


//WMS PARCEL_LES

var wmsOptions = {

	layers: "perlhorta:parcel_les",

	format: "image/png",

	opacity: 0.5,

	transparent: true

}

var wmsLayer = L.tileLayer.wms('http://localhost:8080/geoserver/wms', wmsOptions).addTo(smap);


</script>

</body>

</html>
